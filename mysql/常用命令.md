## MySQL 5.5 版本

```sql
-- MySQL 5.5 版本 - 创建test用户和数据库
-- 创建用户
CREATE USER 'test'@'localhost' IDENTIFIED BY 'your_password_here';
CREATE USER 'test'@'%' IDENTIFIED BY 'your_password_here';

-- 创建数据库（使用utf8字符集）
CREATE DATABASE `test` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;

-- 授权所有权限给test数据库
GRANT ALL PRIVILEGES ON `test`.* TO 'test'@'localhost';
GRANT ALL PRIVILEGES ON `test`.* TO 'test'@'%';

-- 刷新权限
FLUSH PRIVILEGES;
```

## MySQL 5.7+ 版本

```sql
-- MySQL 5.7+ 版本 - 创建test用户和数据库
-- 创建用户（支持IF NOT EXISTS）
CREATE USER IF NOT EXISTS 'test'@'localhost' IDENTIFIED BY 'your_password_here';
CREATE USER IF NOT EXISTS 'test'@'%' IDENTIFIED BY 'your_password_here';

-- 创建数据库（使用utf8mb4字符集）
CREATE DATABASE IF NOT EXISTS `test` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;

-- 授权所有权限给test数据库
GRANT ALL PRIVILEGES ON `test`.* TO 'test'@'localhost';
GRANT ALL PRIVILEGES ON `test`.* TO 'test'@'%';

-- 刷新权限
FLUSH PRIVILEGES;
```


```sql
CREATE USER IF NOT EXISTS 'root'@'%' IDENTIFIED BY '${MYSQL_ROOT_PASSWORD}';
GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' WITH GRANT OPTION;
FLUSH PRIVILEGES;

```
**主要区别：**
- MySQL 5.5：不支持 `IF NOT EXISTS`，使用 `utf8` 字符集
- MySQL 5.7+：支持 `IF NOT EXISTS`，使用 `utf8mb4` 字符集（支持emoji等4字节字符）

**使用说明：**
1. 将 `your_password_here` 替换为实际密码
2. 根据MySQL版本选择对应的SQL执行